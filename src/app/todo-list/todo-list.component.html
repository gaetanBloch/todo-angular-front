<div class="text-center spinner" *ngIf="isLoading">
  <app-loading-spinner></app-loading-spinner>
</div>

<div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>

<div *ngIf="!isLoading">
  <button class="btn btn-primary add-button" (click)="onAdd()">
    <fa-icon [icon]="faPlus"></fa-icon>
    Create Todo
  </button>

  <div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>

  <div class="alert alert-success" *ngIf="message">{{ message }}</div>

  <table class="table table-striped table-hover text-center" *ngIf="todos.length > 0">
    <thead>
    <tr>
      <th>Description</th>
      <th>Target Date</th>
      <th>Completed</th>
      <th>Update</th>
      <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let todo of todos">
      <td>{{ todo.description }}</td>
      <td>{{ todo.targetDate | date }}</td>
      <td><input class="form-control"
                 type="checkbox"
                 [checked]="todo.done"
                 (click)="onToggleDone($event.target['checked'], todo)">
      </td>
      <td>
        <button class="btn btn-success btn-sm" (click)="onUpdate(todo.id)">
          <fa-icon [icon]="faEdit"></fa-icon>
          Update
        </button>
      </td>
      <td>
        <button class="btn btn-danger btn-sm" (click)="onDelete(todo.id)">
          <fa-icon [icon]="faTrashAlt"></fa-icon>
          Delete
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
